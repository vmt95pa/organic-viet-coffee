{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\ogami-main\\\\ogami\\\\src\\\\components\\\\header\\\\elements\\\\SearchForm.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Select, AutoComplete, Input } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport categories from \"../../../data/categories.json\";\nimport useDebounce from \"../../../common/useDebound\";\nimport { fetchSearchedProductRequest } from \"../../../redux/actions/shopActions\";\nimport Link from \"next/link\";\n\nfunction SearchForm({\n  enterButton = \"Search\",\n  hideSelect\n}) {\n  const {\n    Option\n  } = Select;\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const {\n    0: currentSearch,\n    1: setCurrentSearch\n  } = useState(\"\");\n  const {\n    0: currentCategory,\n    1: setCurrentCategory\n  } = useState(\"\");\n  const deboundValue = useDebounce(currentSearch, 300);\n  const shopState = useSelector(state => state.shopReducer);\n  const {\n    searchedProducts\n  } = shopState;\n\n  const onChange = val => {\n    setCurrentSearch(val);\n  };\n\n  const onSelectOption = (value, option) => {\n    setCurrentSearch(value);\n  };\n\n  const onSearch = val => {\n    if (!currentSearch || currentSearch === \"\") {\n      return;\n    } else {\n      router.push({\n        pathname: process.env.PUBLIC_URL + \"/shop/shop-3-column\",\n        query: {\n          q: currentSearch\n        }\n      });\n    }\n  };\n\n  const onChooseCateogry = val => {\n    setCurrentCategory(val);\n  };\n\n  const options = searchedProducts.data.length > 0 && searchedProducts.data.map(item => ({\n    value: item.name\n  }));\n  useEffect(() => {\n    dispatch(fetchSearchedProductRequest({\n      input: currentSearch,\n      limit: 10,\n      category: currentCategory\n    }));\n  }, [deboundValue, currentCategory]);\n  return __jsx(\"div\", {\n    className: \"search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"search-form-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"search-form-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(AutoComplete, {\n    backfill: true,\n    value: currentSearch,\n    onSelect: onSelectOption,\n    onChange: onChange,\n    options: options,\n    filterOption: (inputValue, option) => option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, __jsx(Input.Search, {\n    placeholder: \"Nh\\u1EADp s\\u1EA3n ph\\u1EA9m c\\u1EA7n t\\xECm ... \",\n    size: \"large\",\n    enterButton: enterButton,\n    bordered: false,\n    loading: searchedProducts.loading,\n    onSearch: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default /*#__PURE__*/React.memo(SearchForm);","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/ogami-main/ogami/src/components/header/elements/SearchForm.js"],"names":["React","useCallback","useEffect","useState","Select","AutoComplete","Input","useSelector","useDispatch","useRouter","categories","useDebounce","fetchSearchedProductRequest","Link","SearchForm","enterButton","hideSelect","Option","router","dispatch","currentSearch","setCurrentSearch","currentCategory","setCurrentCategory","deboundValue","shopState","state","shopReducer","searchedProducts","onChange","val","onSelectOption","value","option","onSearch","push","pathname","process","env","PUBLIC_URL","query","q","onChooseCateogry","options","data","length","map","item","name","input","limit","category","inputValue","toUpperCase","indexOf","loading","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { Select, AutoComplete, Input } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useRouter } from \"next/router\";\n\nimport categories from \"../../../data/categories.json\";\nimport useDebounce from \"../../../common/useDebound\";\nimport { fetchSearchedProductRequest } from \"../../../redux/actions/shopActions\";\nimport Link from \"next/link\";\n\nfunction SearchForm({ enterButton = \"Search\", hideSelect }) {\n  const { Option } = Select;\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const [currentSearch, setCurrentSearch] = useState(\"\");\n  const [currentCategory, setCurrentCategory] = useState(\"\");\n  const deboundValue = useDebounce(currentSearch, 300);\n  const shopState = useSelector((state) => state.shopReducer);\n  const { searchedProducts } = shopState;\n  const onChange = (val) => {\n    setCurrentSearch(val);\n  };\n  const onSelectOption = (value, option) => {\n    setCurrentSearch(value);\n  };\n  const onSearch = (val) => {\n    if (!currentSearch || currentSearch === \"\") {\n      return;\n    } else {\n      router.push({\n        pathname: process.env.PUBLIC_URL + \"/shop/shop-3-column\",\n        query: { q: currentSearch },\n      });\n    }\n  };\n  const onChooseCateogry = (val) => {\n    setCurrentCategory(val);\n  };\n  const options =\n    searchedProducts.data.length > 0 &&\n    searchedProducts.data.map((item) => ({ value: item.name }));\n\n  useEffect(() => {\n    dispatch(\n      fetchSearchedProductRequest({\n        input: currentSearch,\n        limit: 10,\n        category: currentCategory,\n      })\n    );\n  }, [deboundValue, currentCategory]);\n  return (\n    <div className=\"search-form\">\n      <div className=\"search-form-wrapper\">\n        <div className=\"search-form-input\">\n          <AutoComplete\n            backfill\n            value={currentSearch}\n            onSelect={onSelectOption}\n            onChange={onChange}\n            options={options}\n            filterOption={(inputValue, option) =>\n              option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !==\n              -1\n            }\n          >\n            <Input.Search\n              placeholder=\"Nhập sản phẩm cần tìm ... \"\n              size=\"large\"\n              enterButton={enterButton}\n              bordered={false}\n              loading={searchedProducts.loading}\n              onSearch={onSearch}\n            />\n          </AutoComplete>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(SearchForm);\n"]},"metadata":{},"sourceType":"module"}