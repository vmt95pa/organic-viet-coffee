{"ast":null,"code":"var __jsx = React.createElement;\nimport { Button, Col, Rate, Row, message } from \"antd\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { formatCurrency } from \"../../../../common/utils\";\nimport { checkProductCartQuantity, checkProductInWishlist } from \"../../../../common/shopUtils\";\nimport QuantitySelector from \"../../../other/QuantitySelector\";\nimport SocialIcons from \"../../../other/SocialIcons\";\nimport { onAddProductToCart } from \"../../../../common/cartServices\";\nimport { fetchCartRequest } from \"../../../../redux/actions/cartActions\";\nimport { addToCompare, removeFromCompare } from \"../../../../redux/actions/compareActions\";\nexport default function ProductDetailContent(_ref) {\n  var data = _ref.data,\n      type = _ref.type;\n  var dispatch = useDispatch();\n\n  var _useState = useState(1),\n      currentQuantity = _useState[0],\n      setCurrentQuantity = _useState[1];\n\n  var _useState2 = useState(false),\n      addToCartLoading = _useState2[0],\n      setAddToCartLoading = _useState2[1];\n\n  var cartState = useSelector(function (state) {\n    return state.cartReducer;\n  });\n  var compareState = useSelector(function (state) {\n    return state.compareReducer;\n  });\n  var productInCompare = checkProductInWishlist(compareState, data.id);\n  var avaiableQuantity = data.quantity - checkProductCartQuantity(cartState.data, data.id);\n  console.log(avaiableQuantity);\n\n  var onAddToCart = function onAddToCart(product, quantity) {\n    if (addToCartLoading) {\n      return;\n    }\n\n    setAddToCartLoading(true);\n    onAddProductToCart({\n      product: product,\n      quantity: quantity,\n      onSuccess: function onSuccess(data) {\n        setAddToCartLoading(false);\n        message.success(\"Product added to cart\");\n        dispatch(fetchCartRequest());\n      },\n      onError: function onError(mes, err) {\n        setAddToCartLoading(false);\n        message.error(mes);\n        console.log(err);\n      }\n    });\n  };\n\n  var onAddToCompare = function onAddToCompare(product) {\n    if (productInCompare) {\n      dispatch(removeFromCompare(product.id));\n      message.error(\"Product removed from compare\");\n    } else {\n      dispatch(addToCompare(product));\n      message.success(\"Product added to compare\");\n    }\n  };\n\n  if (type === \"fluid\") {\n    return __jsx(\"div\", {\n      className: \"product-detail-content -wide\"\n    }, __jsx(Row, null, __jsx(Col, {\n      xs: 24,\n      sm: 24,\n      xl: 16\n    }, __jsx(\"div\", {\n      className: \"product-detail-content__left\"\n    }, __jsx(\"h5\", {\n      className: \"product-type\"\n    }, data.category), __jsx(\"h2\", {\n      className: \"product-detail-content__name\"\n    }, data.name), __jsx(\"div\", {\n      className: \"product-detail-content__description\"\n    }, __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), __jsx(\"p\", null, \"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"), __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), __jsx(\"p\", null, \"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia mollit anim id est laborum.\"), __jsx(\"p\", null, \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventor.\"), __jsx(\"p\", null, \"Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem\")), __jsx(\"ul\", {\n      className: \"product-detail-content__meta\"\n    }, __jsx(\"li\", null, __jsx(\"span\", null, \"SKU:\"), \" A1359\"), __jsx(\"li\", null, __jsx(\"span\", null, \"Categories:\"), \" Fastfood\"), __jsx(\"li\", null, __jsx(\"span\", null, \"Tag:\"), \" Food, Organic\")), __jsx(\"div\", {\n      className: \"product-detail-content__share\"\n    }, __jsx(\"h5\", null, \"Share link:\"), __jsx(SocialIcons, null)))), __jsx(Col, {\n      xs: 24,\n      sm: 24,\n      xl: 8\n    }, __jsx(\"div\", {\n      className: \"product-detail-content__right\"\n    }, __jsx(\"div\", {\n      className: \"product-detail-content__delivery\"\n    }, \"Free delivery\"), __jsx(\"h3\", {\n      className: \"product-detail-content__price\"\n    }, data.discount && __jsx(\"del\", null, formatCurrency(data.price)), __jsx(\"div\", {\n      className: \"product-detail-content__price-discount\"\n    }, __jsx(\"h5\", null, data.discount ? formatCurrency(data.price - data.discount) : formatCurrency(data.price)), __jsx(\"span\", null, __jsx(Rate, {\n      defaultValue: data.rate\n    })))), __jsx(QuantitySelector, {\n      onChange: function onChange(val) {\n        return setCurrentQuantity(val);\n      },\n      max: avaiableQuantity\n    }), __jsx(\"div\", {\n      className: \"product-detail-content__actions\"\n    }, __jsx(Button, {\n      loading: addToCartLoading,\n      onClick: function onClick() {\n        return onAddToCart(data, currentQuantity);\n      },\n      shape: \"round\"\n    }, \"Add to cart\"), __jsx(Button, {\n      onClick: function onClick() {\n        return onAddToCompare(data);\n      },\n      className: classNames({\n        active: productInCompare\n      }),\n      shape: \"round\"\n    }, \"Add to compare\")), __jsx(\"ul\", {\n      className: \"product-detail-content__benefits\"\n    }, __jsx(\"li\", null, \"Satisfaction 100% Guaranteed\"), __jsx(\"li\", null, \"Free shipping on orders over $99\"), __jsx(\"li\", null, \"14 day easy Return\"))))));\n  }\n\n  return __jsx(\"div\", {\n    className: \"product-detail-content\"\n  }, __jsx(\"h5\", {\n    className: \"product-type\"\n  }, data.category), __jsx(\"h2\", {\n    className: \"product-detail-content__name\"\n  }, data.name), __jsx(\"p\", {\n    className: \"product-detail-content__description\"\n  }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor\"), __jsx(\"div\", {\n    className: \"product-detail-content__delivery\"\n  }, \"Free delivery\"), __jsx(\"h3\", {\n    className: \"product-detail-content__price\"\n  }, data.discount && __jsx(\"del\", null, formatCurrency(data.price)), __jsx(\"div\", {\n    className: \"product-detail-content__price-discount\"\n  }, __jsx(\"h5\", null, data.discount ? formatCurrency(data.price - data.discount) : formatCurrency(data.price)), __jsx(\"span\", null, __jsx(Rate, {\n    defaultValue: data.rate\n  })))), __jsx(QuantitySelector, {\n    onChange: function onChange(val) {\n      return setCurrentQuantity(val);\n    },\n    max: avaiableQuantity\n  }), __jsx(\"div\", {\n    className: \"product-detail-content__actions\"\n  }, __jsx(Button, {\n    loading: addToCartLoading,\n    onClick: function onClick() {\n      return onAddToCart(data, currentQuantity);\n    },\n    shape: \"round\"\n  }, \"Add to cart\"), __jsx(Button, {\n    onClick: function onClick() {\n      return onAddToCompare(data);\n    },\n    className: classNames({\n      active: productInCompare\n    }),\n    shape: \"round\"\n  }, \"Add to compare\")), __jsx(\"div\", {\n    className: \"product-detail-content__share\"\n  }, __jsx(\"h5\", null, \"Share link:\"), __jsx(SocialIcons, null)));\n}\n\n/*#__PURE__*/\nReact.memo(ProductDetailContent);","map":null,"metadata":{},"sourceType":"module"}